(function($){
	var count = 0;
	var see = 0, saw = 0, x=[],y=[],ass=50;
	$.scrollgen= function()
	{
		//scroll over fixed element
		    var fixedElement = document.getElementById("list-3dscroll-ul");

    function fixedScrolled(e) {
        var evt = window.event || e;
        var delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta; //delta returns +120 when wheel is scrolled up, -120 when scrolled down
        $("#main-3dscroll").scrollTop($("#main-3dscroll").scrollTop() - delta);
    }

    var mousewheelevt = (/Gecko\//i.test(navigator.userAgent)) ? "DOMMouseScroll" : "mousewheel";
    if (fixedElement.attachEvent) fixedElement.attachEvent("on" + mousewheelevt, fixedScrolled);
    else if (fixedElement.addEventListener) fixedElement.addEventListener(mousewheelevt, fixedScrolled, false);

		//scroll over fixed element end
		var childrn= $("#list-3dscroll-ul").children();
		var leng = childrn.length;

		for (var i = 0; i < leng; i++) {

   /*x[i] = Math.floor((Math.random() * (screen.width-400)) + 1);
			    y[i] = Math.floor((Math.random() * (screen.height-400)) + 1);
    */
    x[i]=screen.width/8;
    y[i]=screen.height/8;
			$(childrn[i]).css({
				"-webkit-transform":"translateZ("+i*(-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
				"-moz-transform":"translateZ("+i*(-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
				"transform":"translateZ("+i*(-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
				"filter":"blur("+5*i+"px)",
				"z-index":i*(-10)
			});
		}
		$("#main-3dscroll").scrollTop(500);
	}
	$.threedscroll= function(){
		$("#main-3dscroll").scroll(function(){
			saw = $(this).scrollTop();
		});
		$("#main-3dscroll").on("scrollstop",function(){
			
				var childrn1= $("#list-3dscroll-ul").children();
		var leng1 = childrn1.length;
		if (saw>500) 
				{
					if (count<leng1-1) {		count=count+1;
										for (var i = 0; i < leng1; i++) {
												$(childrn1[i]).css({
													"-webkit-transform":"translateZ("+(i*(-ass)+(count*ass))+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
													"-moz-transform":"translateZ("+(i*(-ass)+(count*ass))+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
													"transform":"translateZ("+(i*(-ass)+(count*ass))+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
													"transition":"0.5s all",
													"filter":"blur("+5*(i-count)+"px)"
												});
											}
												}}
						else if (saw<500) 
				{
					if (count>0) 
					{
									for (var i = 0; i < leng1; i++) {
											$(childrn1[i]).css({
												"-webkit-transform":"translateZ("+(i*(-ass)+(ass*count)-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
												"-moz-transform":"translateZ("+(i*(-ass)+(ass*count)-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
												"transform":"translateZ("+(i*(-ass)+(ass*count)-ass)+"px) translateX("+x[i]+"px) translateY("+y[i]+"px)",
												"transition":"0.5s all",
												"filter":"blur("+5*(i-count+1)+"px)"
											});
										}
						
											count=count-1;}
							}
					
							see = $(this).scrollTop();
							
	
		$(this).scrollTop(500);
		});
	}
}(jQuery))